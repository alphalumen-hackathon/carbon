import { BottomTabBarProps } from "@react-navigation/bottom-tabs";
import {
  Text,
  TouchableOpacity,
  View
} from "react-native";
import { Path, Rect, Svg } from "react-native-svg";

import React from "react";
import styles from "./Navbar.style";

const IconsSvg = {
  Home: () => (
    <Svg width="30" height="30" viewBox="0 0 45 45">
      <Path d="M22.7751 35.8594C22.0109 35.8594 21.3013 35.3736 20.8101 34.456C14.7513 23.3906 14.6967 23.2827 14.6967 23.2287C13.8233 21.8523 13.3594 20.179 13.3594 18.4787C13.3594 13.3239 17.5896 9.14062 22.8024 9.14062C28.0151 9.14062 32.2454 13.3239 32.2454 18.4787C32.2454 20.233 31.7541 21.9332 30.8262 23.3906C30.8262 23.3906 30.4987 24.0384 24.7674 34.456C24.2488 35.3736 23.5665 35.8594 22.7751 35.8594ZM22.8024 10.2202C18.19 10.2202 14.4511 13.9176 14.4511 18.4787C14.4511 19.9901 14.8604 21.4744 15.6792 22.7699C15.8429 23.1207 20.1551 30.9744 21.7926 33.9702C22.3657 35.0227 23.2117 35.0227 23.8122 33.9702C25.8591 30.2457 29.7345 23.1477 29.871 22.9048C30.717 21.5554 31.1537 20.044 31.1537 18.5057C31.1264 13.9176 27.3874 10.2202 22.8024 10.2202Z" fill="white"/>
      <Path d="M22.8024 24.0923C19.9094 24.0923 17.5896 21.7712 17.5896 18.9374C17.5896 16.1036 19.9094 13.7556 22.8024 13.7556C25.6953 13.7556 28.0151 16.0766 28.0151 18.9104C28.0151 21.7443 25.668 24.0923 22.8024 24.0923ZM22.8024 14.8352C20.5372 14.8352 18.6813 16.6704 18.6813 18.9104C18.6813 21.1505 20.5372 22.9857 22.8024 22.9857C25.0676 22.9857 26.9235 21.1505 26.9235 18.9104C26.9235 16.6704 25.0676 14.8352 22.8024 14.8352Z" fill="white"/>
    </Svg>
  ),
  Credits: () => (
    <Svg width="30" height="30" viewBox="0 0 45 45">
      <Rect x="11.9531" y="14.7656" width="21.227" height="1.51622" rx="0.758108" fill="white"/>
      <Rect x="12" y="22" width="21.227" height="1.51622" rx="0.758108" fill="white"/>
      <Rect x="11.9531" y="29.9277" width="21.227" height="1.51622" rx="0.758108" fill="white"/>
    </Svg>
  ),
  Social: () => (
    <Svg width="30" height="30" viewBox="0 0 45 45">
      <Path d="M22.5 39C19.2366 39 16.0465 38.0323 13.3331 36.2193C10.6197 34.4062 8.50484 31.8293 7.256 28.8143C6.00715 25.7993 5.68039 22.4817 6.31705 19.281C6.95371 16.0803 8.52518 13.1403 10.8327 10.8327C13.1403 8.52518 16.0803 6.95371 19.281 6.31705C22.4817 5.68039 25.7993 6.00715 28.8143 7.256C31.8293 8.50484 34.4062 10.6197 36.2193 13.3331C38.0323 16.0465 39 19.2366 39 22.5C39 26.8761 37.2616 31.0729 34.1673 34.1673C31.0729 37.2616 26.8761 39 22.5 39ZM22.5 7.37501C19.5086 7.37501 16.5843 8.26207 14.097 9.92403C11.6097 11.586 9.67111 13.9482 8.52633 16.7119C7.38155 19.4757 7.08203 22.5168 7.66563 25.4508C8.24923 28.3847 9.68975 31.0797 11.805 33.195C13.9203 35.3103 16.6153 36.7508 19.5493 37.3344C22.4832 37.918 25.5244 37.6185 28.2881 36.4737C31.0518 35.3289 33.414 33.3903 35.076 30.903C36.7379 28.4157 37.625 25.4915 37.625 22.5C37.625 18.4886 36.0315 14.6415 33.195 11.805C30.3585 8.96853 26.5114 7.37501 22.5 7.37501Z" fill="white"/>
      <Path d="M22.5 39C17.1031 39 12.875 31.7538 12.875 22.5C12.875 13.2463 17.1031 6 22.5 6C27.8969 6 32.125 13.2463 32.125 22.5C32.125 31.7538 27.8969 39 22.5 39ZM22.5 7.375C17.9488 7.375 14.25 14.1606 14.25 22.5C14.25 30.8394 17.9488 37.625 22.5 37.625C27.0513 37.625 30.75 30.8394 30.75 22.5C30.75 14.1606 27.0513 7.375 22.5 7.375Z" fill="white"/>
      <Path d="M21.8125 8.75H23.1875V38.3125H21.8125V8.75Z" fill="white"/>
      <Path d="M6.6875 21.8125H29.375V23.1875H6.6875V21.8125ZM31.4375 21.8125H38.3125V23.1875H31.4375V21.8125ZM10.8125 14.25H36.25V15.625H10.8125V14.25ZM8.75 29.375H14.25V30.75H8.75V29.375ZM17 29.375H36.25V30.75H17V29.375Z" fill="white"/>
    </Svg>
  ),
  Shop: () => (
    <Svg width="30" height="45" viewBox="0 0 45 45">
      <Rect x="10.6019" y="15.4919" width="24.5627" height="5.15513" rx="2.57757" stroke="white" stroke-width="1.51622"/>
      <Path fill-rule="evenodd" clip-rule="evenodd" d="M11.7019 19.8889C11.6227 20.2584 11.6117 20.6504 11.6819 21.0496L13.6485 32.2403C13.9033 33.6903 15.1629 34.7478 16.6351 34.7478H29.1313C30.6035 34.7478 31.8631 33.6903 32.1179 32.2403L34.0845 21.0496C34.1547 20.6504 34.1437 20.2584 34.0645 19.8889H32.4748C32.5997 20.1582 32.6473 20.4681 32.5912 20.7872L30.6246 31.9778C30.4972 32.7029 29.8674 33.2316 29.1313 33.2316H16.6351C15.899 33.2316 15.2692 32.7029 15.1418 31.9778L13.1752 20.7872C13.1191 20.4681 13.1667 20.1582 13.2916 19.8889H11.7019Z" fill="white"/>
      <Rect x="17.4248" y="25.9537" width="0.90973" height="10.9168" rx="0.454865" transform="rotate(-90 17.4248 25.9537)" fill="white"/>
      <Rect x="15.7055" y="16.229" width="1.51622" height="6.32262" rx="0.758108" transform="rotate(-150 15.7055 16.229)" fill="white"/>
      <Rect width="1.81946" height="6.32272" rx="0.90973" transform="matrix(0.866025 -0.5 -0.5 -0.866025 30.0116 16.229)" fill="white"/>
      <Rect x="19.2443" y="29.2894" width="0.90973" height="7.58108" rx="0.454865" transform="rotate(-90 19.2443 29.2894)" fill="white"/>
    </Svg>
  )
} as Record<string, React.FC>

const Navbar = ({ state, descriptors, navigation }: BottomTabBarProps) => {
  return (
    <View style={styles.container}>
      <View style={styles.margin}>
        {state.routes.map((route, index) => {
          const selected = state.index === index;
          const Icon = IconsSvg[route.name]

          const Selected = () => (
            <View style={styles.selected}>
              {<Icon />}
              <Text style={styles.routeName}>{route.name}</Text>
            </View>
          );

          const Unselected = () => (
            <TouchableOpacity
              style={styles.unselected}
              onPress={() => navigation.navigate(route.name)}
            >
              <Icon />
            </TouchableOpacity>
          );

          return selected ? (
            <Selected key={route.key} />
          ) : (
            <Unselected key={route.key} />
          );
        })}
      </View>
    </View>
  );
};

export default Navbar;
