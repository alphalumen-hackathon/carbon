import { Text, View } from "react-native";
import { Path, Svg } from "react-native-svg";

import { styles } from "./BalanceCard.styles";
import useActivitiesStore from "../../states/Activities.store";
import useUserStore from "../../states/User.store";
import Currency from "../Currency/Currency.component";

const BalanceCard = () => {
  const username = useUserStore((state) => state.username);
  const credits = useActivitiesStore((state) => state.totalCredits);

  return (
    <View style={styles.container}>
      <View style={styles.row}>
        <Text style={styles.thinText}>Balance</Text>

        <Svg width="103" height="34">
          <Path
            d="M19.9868 13.5983H15.5766C15.4961 13.0277 15.3316 12.5209 15.0832 12.0779C14.8349 11.6281 14.516 11.2455 14.1267 10.93C13.7374 10.6145 13.2876 10.3729 12.7775 10.205C12.274 10.0372 11.7269 9.95333 11.1362 9.95333C10.0689 9.95333 9.13922 10.2185 8.34713 10.7488C7.55504 11.2724 6.94084 12.0376 6.50452 13.0445C6.0682 14.0447 5.85004 15.2596 5.85004 16.6894C5.85004 18.1595 6.0682 19.3946 6.50452 20.3948C6.94755 21.395 7.56511 22.1501 8.3572 22.6603C9.14929 23.1705 10.0656 23.4255 11.106 23.4255C11.69 23.4255 12.2304 23.3483 12.7271 23.194C13.2306 23.0396 13.6769 22.8147 14.0663 22.5193C14.4556 22.2173 14.7778 21.8514 15.0329 21.4218C15.2947 20.9922 15.4759 20.5022 15.5766 19.9518L19.9868 19.9719C19.8727 20.9184 19.5874 21.8313 19.1309 22.7106C18.6812 23.5833 18.0737 24.3653 17.3085 25.0567C16.5499 25.7414 15.6437 26.2851 14.5899 26.6879C13.5427 27.0839 12.3579 27.2819 11.0355 27.2819C9.19628 27.2819 7.55169 26.8657 6.10176 26.0334C4.65855 25.201 3.51741 23.9961 2.67833 22.4186C1.84597 20.8412 1.42979 18.9314 1.42979 16.6894C1.42979 14.4407 1.85268 12.5276 2.69847 10.9501C3.54426 9.37269 4.69211 8.17113 6.14204 7.34548C7.59196 6.51311 9.22313 6.09693 11.0355 6.09693C12.2304 6.09693 13.338 6.26475 14.3583 6.60038C15.3853 6.93601 16.2949 7.42603 17.0869 8.07044C17.879 8.70814 18.5234 9.49016 19.0202 10.4165C19.5236 11.3428 19.8458 12.4034 19.9868 13.5983ZM27.4428 27.292C26.4561 27.292 25.5767 27.1208 24.8048 26.7785C24.0328 26.4294 23.422 25.9159 22.9722 25.2379C22.5292 24.5533 22.3077 23.7008 22.3077 22.6804C22.3077 21.8212 22.4654 21.0996 22.7809 20.5156C23.0964 19.9316 23.526 19.4617 24.0697 19.106C24.6135 18.7502 25.231 18.4817 25.9224 18.3005C26.6205 18.1192 27.3522 17.9917 28.1174 17.9178C29.0169 17.8239 29.7419 17.7366 30.2923 17.656C30.8428 17.5688 31.2422 17.4412 31.4905 17.2734C31.7389 17.1056 31.8631 16.8572 31.8631 16.5283V16.4679C31.8631 15.8302 31.6617 15.3368 31.2589 14.9878C30.8629 14.6387 30.299 14.4642 29.5674 14.4642C28.7954 14.4642 28.1812 14.6354 27.7248 14.9777C27.2683 15.3133 26.9662 15.7362 26.8186 16.2464L22.8514 15.9242C23.0528 14.9844 23.4488 14.1722 24.0395 13.4875C24.6302 12.7961 25.3921 12.2658 26.3252 11.8966C27.2649 11.5207 28.3524 11.3328 29.5875 11.3328C30.4467 11.3328 31.269 11.4335 32.0544 11.6348C32.8465 11.8362 33.5479 12.1483 34.1588 12.5712C34.7764 12.9941 35.263 13.5379 35.6188 14.2024C35.9746 14.8602 36.1524 15.649 36.1524 16.5686V27H32.0846V24.8553H31.9638C31.7154 25.3386 31.3831 25.7649 30.9669 26.1341C30.5508 26.4966 30.0507 26.7818 29.4667 26.9899C28.8827 27.1913 28.2081 27.292 27.4428 27.292ZM28.6712 24.3317C29.3022 24.3317 29.8594 24.2076 30.3427 23.9592C30.826 23.7041 31.2052 23.3618 31.4805 22.9322C31.7557 22.5026 31.8933 22.0159 31.8933 21.4722V19.8309C31.759 19.9182 31.5744 19.9987 31.3395 20.0726C31.1113 20.1397 30.8528 20.2035 30.5642 20.2639C30.2756 20.3176 29.9869 20.3679 29.6983 20.4149C29.4096 20.4552 29.1478 20.4921 28.9129 20.5257C28.4094 20.5995 27.9698 20.717 27.5939 20.8781C27.218 21.0392 26.926 21.2574 26.7179 21.5326C26.5098 21.8011 26.4057 22.1367 26.4057 22.5395C26.4057 23.1235 26.6172 23.5699 27.0401 23.8786C27.4697 24.1807 28.0134 24.3317 28.6712 24.3317ZM39.4802 27V11.5341H43.6387V14.2326H43.7998C44.0817 13.2727 44.555 12.5478 45.2195 12.0577C45.884 11.561 46.6493 11.3126 47.5152 11.3126C47.73 11.3126 47.9616 11.3261 48.21 11.3529C48.4583 11.3798 48.6765 11.4167 48.8644 11.4637V15.2697C48.6631 15.2093 48.3845 15.1556 48.0287 15.1086C47.673 15.0616 47.3474 15.0381 47.052 15.0381C46.4211 15.0381 45.8572 15.1757 45.3605 15.451C44.8704 15.7195 44.4811 16.0954 44.1925 16.5787C43.9105 17.062 43.7696 17.6191 43.7696 18.2501V27H39.4802ZM51.1627 27V6.37886H55.452V14.1319H55.5829C55.7709 13.7157 56.0427 13.2928 56.3985 12.8632C56.761 12.4269 57.2309 12.0644 57.8082 11.7758C58.3922 11.4804 59.1171 11.3328 59.983 11.3328C61.1108 11.3328 62.1512 11.6281 63.1044 12.2188C64.0576 12.8028 64.8195 13.6855 65.3901 14.867C65.9606 16.0417 66.2459 17.5151 66.2459 19.2872C66.2459 21.0124 65.9673 22.469 65.4102 23.6571C64.8598 24.8385 64.1079 25.7347 63.1548 26.3455C62.2083 26.9497 61.1477 27.2517 59.973 27.2517C59.1406 27.2517 58.4324 27.1141 57.8484 26.8389C57.2711 26.5637 56.7979 26.218 56.4287 25.8018C56.0595 25.3789 55.7776 24.9527 55.5829 24.523H55.3916V27H51.1627ZM55.3614 19.2671C55.3614 20.1867 55.489 20.9889 55.744 21.6735C55.9991 22.3582 56.3683 22.8919 56.8516 23.2745C57.3349 23.6504 57.9223 23.8384 58.6137 23.8384C59.3118 23.8384 59.9025 23.6471 60.3858 23.2644C60.8691 22.8751 61.2349 22.3381 61.4833 21.6534C61.7384 20.962 61.8659 20.1666 61.8659 19.2671C61.8659 18.3743 61.7417 17.5889 61.4934 16.9109C61.245 16.233 60.8792 15.7027 60.3959 15.3201C59.9126 14.9374 59.3185 14.7461 58.6137 14.7461C57.9156 14.7461 57.3248 14.9307 56.8415 15.2999C56.3649 15.6691 55.9991 16.1927 55.744 16.8707C55.489 17.5486 55.3614 18.3474 55.3614 19.2671ZM76.0958 27.3021C74.5318 27.3021 73.1792 26.9698 72.0381 26.3052C70.9036 25.634 70.0276 24.7009 69.4101 23.5061C68.7925 22.3045 68.4837 20.9117 68.4837 19.3275C68.4837 17.7299 68.7925 16.3337 69.4101 15.1388C70.0276 13.9373 70.9036 13.0042 72.0381 12.3397C73.1792 11.6684 74.5318 11.3328 76.0958 11.3328C77.6599 11.3328 79.0091 11.6684 80.1435 12.3397C81.2847 13.0042 82.164 13.9373 82.7816 15.1388C83.3991 16.3337 83.7079 17.7299 83.7079 19.3275C83.7079 20.9117 83.3991 22.3045 82.7816 23.5061C82.164 24.7009 81.2847 25.634 80.1435 26.3052C79.0091 26.9698 77.6599 27.3021 76.0958 27.3021ZM76.116 23.9793C76.8275 23.9793 77.4216 23.7779 77.8982 23.3752C78.3748 22.9657 78.7339 22.4086 78.9755 21.7038C79.2239 20.9989 79.3481 20.1968 79.3481 19.2973C79.3481 18.3978 79.2239 17.5956 78.9755 16.8908C78.7339 16.186 78.3748 15.6288 77.8982 15.2194C77.4216 14.8099 76.8275 14.6052 76.116 14.6052C75.3977 14.6052 74.7936 14.8099 74.3036 15.2194C73.8203 15.6288 73.4544 16.186 73.2061 16.8908C72.9644 17.5956 72.8436 18.3978 72.8436 19.2973C72.8436 20.1968 72.9644 20.9989 73.2061 21.7038C73.4544 22.4086 73.8203 22.9657 74.3036 23.3752C74.7936 23.7779 75.3977 23.9793 76.116 23.9793ZM90.7864 18.0588V27H86.497V11.5341H90.585V14.2628H90.7662C91.1086 13.3633 91.6825 12.6518 92.488 12.1282C93.2935 11.5979 94.2702 11.3328 95.4181 11.3328C96.4921 11.3328 97.4285 11.5677 98.2273 12.0376C99.0261 12.5075 99.647 13.1787 100.09 14.0514C100.533 14.9173 100.755 15.951 100.755 17.1526V27H96.4652V17.9178C96.472 16.9714 96.2303 16.233 95.7403 15.7027C95.2503 15.1657 94.5756 14.8972 93.7164 14.8972C93.1391 14.8972 92.629 15.0213 92.186 15.2697C91.7496 15.5181 91.4073 15.8806 91.1589 16.3572C90.9173 16.827 90.7931 17.3943 90.7864 18.0588Z"
            fill="#02D06D"
          />
          <Path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M73.3389 9.20917C76.8353 8.27231 80.3968 9.34856 82.7929 11.7274L81.3256 12.1206C79.2663 10.3793 76.4158 9.6418 73.6136 10.3927C70.8113 11.1435 68.7115 13.2074 67.7988 15.7451L66.4106 16.117C67.2962 12.8589 69.8425 10.146 73.3389 9.20917ZM85.3482 16.1428L85.3544 16.1659L85.342 16.1196L85.3482 16.1428ZM78.4146 28.1521L78.3948 28.1574L78.4344 28.1467L78.4146 28.1521Z"
            fill="#02D06D"
          />
        </Svg>
      </View>
      <View style={styles.row}>
        <Currency value={credits} size={25} />
        <Text style={styles.thinText}>{username}</Text>
      </View>
    </View>
  );
};

export default BalanceCard;
